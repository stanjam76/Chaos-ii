<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="google" content="notranslate" />
  <title>Chaos II â€” Neon Prophecy</title>
  <style>
    :root { --neon:#39ff14; --blue:#0090ff; --bg:#000; }

    html,body{ margin:0; height:100%; background:var(--bg); color:#fff;
      font-family:Arial,Helvetica,sans-serif; text-align:center; }

    /* Background canvas sits behind all content */
    #bg { position:fixed; inset:0; z-index:-1; background:#000; }

    main{ max-width:980px; margin:28px auto 64px; padding:0 14px; }

    /* Title / Prophecy */
    #title{
      display:inline-block; margin:10px 0 8px;
      font-size:clamp(36px,7vw,72px); letter-spacing:2px; text-transform:uppercase;
      color:var(--neon);
      text-shadow:0 0 12px var(--neon),0 0 24px var(--neon),0 0 48px var(--neon);
      animation:flicker 3.6s steps(1,end) infinite;
    }
    @keyframes flicker{ 0%,6%,7%,8%,100%{opacity:1} 6.5%,7.5%{opacity:.55} }

    .prophecy{
      margin:6px 0; font-size:clamp(18px,4.2vw,34px); font-weight:800; text-transform:uppercase;
      color:#c8ffd0;
      text-shadow:0 0 10px rgba(57,255,20,.6),0 0 20px rgba(0,144,255,.45);
    }

    /* Image frame */
    .hero-wrap{
      display:block; margin:18px auto 0; width:92%; max-width:920px;
      border-radius:10px; border:4px solid var(--neon);
      box-shadow:0 0 20px var(--neon),0 0 40px var(--neon),0 0 80px var(--blue);
      overflow:hidden;
    }
    #hero{ display:block; width:100%; height:auto; }

    /* Sound button */
    .btn-sound{
      position:fixed; right:14px; bottom:14px; z-index:10;
      background:rgba(0,0,0,.6); border:2px solid var(--neon);
      color:#fff; font-weight:800; letter-spacing:.3px;
      border-radius:12px; padding:10px 14px; cursor:pointer;
      box-shadow:0 0 12px rgba(57,255,20,.4);
    }
    .btn-sound:hover{ box-shadow:0 0 18px rgba(57,255,20,.8); transform:translateY(-1px); }
    .btn-sound.hidden{ display:none; }

    /* Accessibility: reduce motion */
    @media (prefers-reduced-motion: reduce){
      #title{ animation:none }
    }
  </style>
</head>
<body>
  <!-- Soft neon Sierpinski background -->
  <canvas id="bg" aria-hidden="true"></canvas>

  <main>
    <h1 id="title">I Am Chaos</h1>
    <div class="prophecy">Chaos is Coming !!</div>
    <div class="prophecy">Only Neon Can Save You II</div>

    <!-- IMAGE: change filename here if yours differs -->
    <div class="hero-wrap">
      <img id="hero"
           src="porcupine.jpg?v=1"
           alt="Ninja Porcupine"
           onerror="this.onerror=null; this.src='IMG_0240.jpeg?v=1';" />
    </div>
  </main>

  <!-- AUDIO: uses your exact filename -->
  <audio id="bgm" preload="auto" loop muted playsinline>
    <source src="Chaos!! [Stereo mix (WAV)].wav" type="audio/wav">
  </audio>
  <button id="soundToggle" class="btn-sound" aria-pressed="false" aria-live="polite">
    ðŸ”Š Sound ON
  </button>

  <script>
    /* iOS-safe audio unlock */
    (function(){
      const audio = document.getElementById('bgm');
      const btn   = document.getElementById('soundToggle');
      if (!audio || !btn) return;
      audio.volume = 0.9; audio.muted = true;

      let unlocked = false;
      async function enableSound(){
        if (unlocked) return;
        try{
          audio.muted = false;
          await audio.play();
          unlocked = true;
          btn.classList.add('hidden');
          btn.setAttribute('aria-pressed','true');
          remove();
        }catch(e){ /* keep button visible if blocked */ }
      }
      function remove(){
        ['click','touchstart','keydown'].forEach(ev =>
          window.removeEventListener(ev, enableSound, ev==='touchstart'?{passive:true}:undefined)
        );
        btn.removeEventListener('click', enableSound);
      }
      btn.addEventListener('click', enableSound);
      window.addEventListener('click', enableSound);
      window.addEventListener('touchstart', enableSound, {passive:true});
      window.addEventListener('keydown', enableSound);
      document.addEventListener('visibilitychange', ()=>{
        if (document.hidden) audio.pause(); else if (unlocked) audio.play().catch(()=>{});
      });
    })();

    /* Sierpinski background (lightweight) */
    (function(){
      const cvs = document.getElementById('bg');
      const ctx = cvs.getContext('2d');
      let w,h, t=0;

      function onResize(){
        w = cvs.width  = window.innerWidth;
        h = cvs.height = window.innerHeight;
      }
      window.addEventListener('resize', onResize, {passive:true});
      onResize();

      function tri(p1,p2,p3,depth){
        if (depth===0){
          ctx.beginPath();
          ctx.moveTo(p1.x,p1.y); ctx.lineTo(p2.x,p2.y); ctx.lineTo(p3.x,p3.y); ctx.closePath();
          ctx.stroke();
          return;
        }
        const m12 = {x:(p1.x+p2.x)/2, y:(p1.y+p2.y)/2};
        const m23 = {x:(p2.x+p3.x)/2, y:(p2.y+p3.y)/2};
        const m31 = {x:(p3.x+p1.x)/2, y:(p3.y+p1.y)/2};
        tri(p1,m12,m31,depth-1);
        tri(m12,p2,m23,depth-1);
        tri(m31,m23,p3,depth-1);
      }

      function draw(){
        t += 0.004; // slow pulse
        ctx.clearRect(0,0,w,h);
        ctx.shadowBlur = 12;
        const glow = Math.floor(128 + 127*Math.sin(t*2));
        ctx.strokeStyle = `rgba(57,255,20,${0.075 + 0.05*Math.sin(t)})`;
        ctx.shadowColor = `rgba(57,255,20,0.6)`;
        ctx.lineWidth = 1;

        const size = Math.min(w,h)*0.7;
        const cx = w/2, cy = h/2 + 40;
        const p1 = {x: cx,           y: cy - size*Math.sqrt(3)/4};
        const p2 = {x: cx - size/2,  y: cy + size*Math.sqrt(3)/4};
        const p3 = {x: cx + size/2,  y: cy + size*Math.sqrt(3)/4};

        tri(p1,p2,p3,5); // depth 5 is gentle on iPad
        requestAnimationFrame(draw);
      }
      draw();
    })();
  </script>
</body>
</html>
